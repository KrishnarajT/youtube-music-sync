apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

# Point to the directory containing your K8s manifests
resources:
  - k8s/deployment.yaml
  - k8s/service.yaml

# This generates a ConfigMap from your local files.
# No more copy-pasting content into YAML!
configMapGenerator:
  - name: youtube-music-sync-config
    files:
      - config.yml
      - playlists.txt

# Ensures the deployment rolls when the config or playlists change
generatorOptions:
  disableNameSuffixHash: false